/**
 * AUTO-GENERATED FILE - DO NOT EDIT
 * 
 * Generated by scripts/embed-assets.ts
 * Run "bun run build:assets" to regenerate
 * 
 * This file embeds static assets as string constants so they are
 * available in compiled binaries where filesystem access does not work.
 */

export const APP_MD = `# Haltija App

You're running Haltija in the desktop app. This gives you a browser with superpowers - the Haltija widget is automatically injected into every page you visit, bypassing security restrictions that would normally block it.

## Quick Start

1. **Navigate to any website** using the address bar above
2. **Look for the widget** in the bottom-right corner (the elf icon)
3. **Connect your AI agent** using the REST API at \`http://localhost:8700\`

## For Your AI Agent

Give your agent this prompt to get started:

\`\`\`prompt
I have Haltija running at http://localhost:8700. You can see and control my browser.

**Check connection:**
curl http://localhost:8700/status

**List all open tabs:**
curl http://localhost:8700/windows

**Get current page info:**
curl http://localhost:8700/location

**See the DOM structure:**
curl -X POST http://localhost:8700/tree -H "Content-Type: application/json" -d '{"selector": "body", "depth": 3}'

**Click an element:**
curl -X POST http://localhost:8700/click -H "Content-Type: application/json" -d '{"selector": "#button-id"}'

**Type text:**
curl -X POST http://localhost:8700/type -H "Content-Type: application/json" -d '{"selector": "input", "text": "hello"}'

**Run JavaScript:**
curl -X POST http://localhost:8700/eval -H "Content-Type: application/json" -d '{"code": "document.title"}'

**Open a new tab:**
curl -X POST http://localhost:8700/tabs/open -H "Content-Type: application/json" -d '{"url": "https://example.com"}'

**Target a specific tab:** Add ?window=<id> to any endpoint (get IDs from /windows)

All POST endpoints return: {"success": true, "data": ...} or {"success": false, "error": "..."}

Start with /status to confirm we're connected, then /windows to see open tabs.
\`\`\`

## Useful Commands

Check if the server is running:
\`\`\`bash
curl http://localhost:8700/status
\`\`\`

Get the page structure:
\`\`\`bash
curl -X POST http://localhost:8700/tree -H "Content-Type: application/json" -d '{"selector": "body", "depth": 3}'
\`\`\`

Click a button:
\`\`\`bash
curl -X POST http://localhost:8700/click -H "Content-Type: application/json" -d '{"selector": "button"}'
\`\`\`

## Keyboard Shortcuts

- **Cmd+T** - New tab
- **Cmd+W** - Close tab
- **Cmd+1-9** - Switch to tab
- **Cmd+L** - Focus address bar
- **Cmd+R** - Refresh page
`

export const SERVICE_MD = `# Haltija Service

You're running the Haltija server. To give your AI agent browser control, you need to inject the widget into a web page using the bookmarklet.

## Quick Start

1. **Drag the bookmarklet** below to your bookmarks bar
2. **Open any website** in your browser
3. **Click the bookmarklet** to inject the Haltija widget
4. **Connect your AI agent** using the REST API at \`http://localhost:8700\`

## The Bookmarklet

Drag this to your bookmarks bar:

\`\`\`bookmarklet
Haltija
\`\`\`

Or copy this JavaScript URL and create a bookmark manually:

\`\`\`js
javascript:(function(){var s=document.createElement('script');s.src='http://localhost:8700/inject.js';document.body.appendChild(s);})()
\`\`\`

## For Your AI Agent

Give your agent this prompt to get started:

\`\`\`prompt
I have Haltija running at http://localhost:8700. You can see and control my browser.

**Quick start:**
1. Check server: curl http://localhost:8700/status
2. Find tabs: curl http://localhost:8700/windows
3. See what's on page: curl -X POST http://localhost:8700/tree -d '{"selector":"body","mode":"actionable"}'
4. Do something: curl -X POST http://localhost:8700/click -d '{"selector":"button"}'

**Key endpoints:**
- GET /windows - list connected tabs
- GET /location?window=ID - current URL
- POST /tree - see page structure (use mode:"actionable" for summary of buttons/links/inputs)
- POST /click - click an element
- POST /type - type into a field
- POST /eval - run JavaScript (escape hatch)
- POST /screenshot - capture page image (see options below)
- GET /events - recent events including network errors
- GET /select/result - get elements user has selected in browser

**Screenshot options:**
- format: "png" (default), "webp", "jpeg"
- quality: 0.0-1.0 (for webp/jpeg, default 0.8)
- scale: 0.5 = half size (saves bandwidth)
- maxWidth/maxHeight: constrain dimensions (great for vision models)

**Tree options:**
- mode:"actionable" - returns buttons, links, inputs, headings (recommended)
- visibleOnly:true - filter out hidden elements
- depth:3 - how deep to traverse

**Target a specific tab:** Add ?window=<id> or include "window":"id" in POST body

All POST endpoints return: {"success": true, "data": ...} or {"success": false, "error": "..."}
\`\`\`

For the full agent prompt with more examples, see [agent-prompt.md](../agent-prompt.md).

## Useful Commands

Start the server (if not already running):
\`\`\`bash
bunx haltija
\`\`\`

Check server status:
\`\`\`bash
curl http://localhost:8700/status
\`\`\`

Get the page structure:
\`\`\`bash
curl -X POST http://localhost:8700/tree -H "Content-Type: application/json" -d '{"selector": "body", "depth": 3}'
\`\`\`

## Troubleshooting

**Widget not appearing?**
- Some sites have strict CSP that blocks the widget
- Try the Haltija desktop app for universal compatibility

**Agent can't connect?**
- Make sure you clicked the bookmarklet after the page loaded
- Check that the widget shows a green status ring (connected)
`

export const PLAYGROUND_MD = `# Playground

This is a sandbox for testing Haltija commands. The elements below are designed for agents to practice interacting with web pages.

## Interactive Elements

Use these to test clicking, typing, and reading page content.

### Buttons

<div class="test-buttons">
  <button id="btn-primary" class="btn-test primary">Primary Button</button>
  <button id="btn-secondary" class="btn-test secondary">Secondary Button</button>
  <button id="btn-danger" class="btn-test danger">Danger Button</button>
</div>

### Form Inputs

<div class="test-form">
  <div class="form-row">
    <label for="text-input">Text Input:</label>
    <input type="text" id="text-input" placeholder="Type something here...">
  </div>
  <div class="form-row">
    <label for="email-input">Email:</label>
    <input type="email" id="email-input" placeholder="you@example.com">
  </div>
  <div class="form-row">
    <label for="select-input">Dropdown:</label>
    <select id="select-input">
      <option value="">Choose an option...</option>
      <option value="a">Option A</option>
      <option value="b">Option B</option>
      <option value="c">Option C</option>
    </select>
  </div>
  <div class="form-row">
    <label>Checkboxes:</label>
    <div class="checkbox-group">
      <label><input type="checkbox" id="check-1"> Option 1</label>
      <label><input type="checkbox" id="check-2"> Option 2</label>
      <label><input type="checkbox" id="check-3"> Option 3</label>
    </div>
  </div>
</div>

### Output Area

<div id="output" class="output-box">
  Click buttons or type in fields to see results here.
</div>

## Test Commands

Try these commands to interact with the playground:

Click the primary button:
\`\`\`bash
curl -X POST http://localhost:8700/click -H "Content-Type: application/json" -d '{"selector": "#btn-primary"}'
\`\`\`

Type in the text input:
\`\`\`bash
curl -X POST http://localhost:8700/type -H "Content-Type: application/json" -d '{"selector": "#text-input", "text": "Hello from the agent!"}'
\`\`\`

Read the output area:
\`\`\`bash
curl -X POST http://localhost:8700/query -H "Content-Type: application/json" -d '{"selector": "#output"}'
\`\`\`

Get all form values:
\`\`\`bash
curl -X POST http://localhost:8700/eval -H "Content-Type: application/json" -d '{"code": "JSON.stringify({text: document.getElementById(\\"text-input\\").value, email: document.getElementById(\\"email-input\\").value})"}'
\`\`\`
`

export const ICON_SVG = `<?xml version="1.0" encoding="utf-8"?>
<svg x="0px" y="0px" width="1024px" height="1024px" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <!--Generated by AMDN-->
  <g id="Layer_1">
    <radialGradient cx="512" cy="512" r="512" fx="512" fy="512" gradientUnits="userSpaceOnUse" gradientTransform="matrix(1,0,0,1,0,0)" id="am2">
      <stop style="stop-color:#3da8f4;stop-opacity:1;"/>
      <stop offset="1" style="stop-color:#382f93;stop-opacity:1;"/>
    </radialGradient>
    <g id="Path">
      <path style="fill:url(#am2);fill-opacity:1;fill-rule:evenodd;opacity:1;stroke:none;" d="M0,128 C0,57.3076,57.3076,1.33227e-15,128,1.33227e-15 C128,1.33227e-15,896,1.33227e-15,896,1.33227e-15 C966.692,1.33227e-15,1024,57.3075,1024,128 C1024,128,1024,896,1024,896 C1024,966.692,966.692,1024,896,1024 C896,1024,128,1024,128,1024 C57.3076,1024,0,966.692,0,896 C0,896,0,128,0,128 z"/>
    </g>
    <g id="Halitja">
      <g id="Fills">
        <path id="Fills-1" style="fill:#bcffab;fill-opacity:0.2;fill-rule:evenodd;opacity:1;stroke:none;" d="M552.544,379.549 C585.574,379.549,612.349,406.325,612.349,439.354 C612.349,472.383,585.574,499.159,552.544,499.159 C519.515,499.159,492.74,472.383,492.74,439.354 C492.74,406.325,519.515,379.549,552.544,379.549 z"/>
        <path id="Path-1" style="fill:#f4d0ff;fill-opacity:0.4;fill-rule:nonzero;opacity:1;stroke:none;" d="M205.463,551.488 C205.463,551.488,216.143,577.119,216.143,577.119 C216.143,577.119,210.803,584.594,210.803,584.594 C210.803,584.594,219.841,606.193,219.841,606.193 C219.841,606.193,249.015,612.161,253.521,628.38 C258.86,647.603,242.172,659.561,244.797,665.833 C252.05,683.169,273.811,735.174,273.811,735.174 C273.811,735.174,307.986,723.427,307.986,723.427 C307.986,723.427,244.977,568.575,244.977,568.575 C244.977,568.575,232.162,568.575,232.162,568.575 C232.162,568.575,221.482,541.877,221.482,541.877 C221.482,541.877,205.463,551.488,205.463,551.488 z"/>
        <path id="Path-2" style="fill:#f4d0ff;fill-opacity:0.4;fill-rule:nonzero;opacity:1;stroke:none;" d="M389.149,834.493 C422.255,840.9,447.886,835.561,448.954,822.745 C450.022,809.93,467.109,777.892,467.109,777.892 C467.109,777.892,462.837,760.805,462.837,760.805 C462.837,760.805,489.536,762.941,489.536,762.941 C489.536,762.941,488.468,813.134,488.468,813.134 C488.468,813.134,505.555,849.444,540.797,845.172 C576.039,840.9,593.126,829.153,594.194,818.474 C595.262,807.794,596.33,766.144,596.33,766.144 C596.33,766.144,585.651,687.117,585.651,687.117 C585.651,687.117,577.107,682.845,577.107,682.845 C577.107,682.845,582.447,644.399,582.447,644.399 C582.447,644.399,571.767,629.448,554.68,630.516 C537.593,631.584,524.778,644.399,524.778,644.399 C524.778,644.399,525.846,679.641,525.846,679.641 C525.846,679.641,510.895,689.253,510.895,689.253 C510.895,689.253,509.827,702.068,509.827,702.068 C509.827,702.068,500.215,691.388,487.4,689.253 C474.585,687.117,467.109,690.321,467.109,690.321 C467.109,690.321,482.06,651.875,482.06,651.875 C482.06,651.875,474.585,634.788,461.769,631.584 C448.954,628.38,426.527,634.788,426.527,634.788 C426.527,634.788,417.984,659.35,417.984,659.35 C417.984,659.35,422.255,668.962,422.255,668.962 C422.255,668.962,405.168,674.301,405.168,674.301 C405.168,674.301,365.654,740.514,365.654,740.514 C365.654,740.514,346.431,787.503,346.431,787.503 C346.431,787.503,356.043,828.085,389.149,834.493 z"/>
        <path id="Path-3" style="fill:#bcffab;fill-opacity:0.2;fill-rule:nonzero;opacity:1;stroke:none;" d="M366.722,772.552 C366.722,772.552,370.994,799.251,395.557,806.726 C420.12,814.202,446.818,799.251,446.818,799.251 C446.818,799.251,438.275,782.164,414.78,775.756 C391.285,769.348,366.722,772.552,366.722,772.552 z"/>
        <path id="Path_Copy" style="fill:#bcffab;fill-opacity:0.2;fill-rule:nonzero;opacity:1;stroke:none;" d="M501.735,791.4 C501.735,791.4,511.3,816.69,536.865,819.061 C562.431,821.433,585.568,801.407,585.568,801.407 C585.568,801.407,573.756,786.393,549.451,784.852 C525.147,783.312,501.735,791.4,501.735,791.4 z"/>
        <path id="Fills_Copy" style="fill:#bcffab;fill-opacity:0.2;fill-rule:evenodd;opacity:1;stroke:none;" d="M377.402,380.617 C410.431,380.617,437.207,407.393,437.207,440.422 C437.207,473.451,410.431,500.227,377.402,500.227 C344.373,500.227,317.597,473.451,317.597,440.422 C317.597,407.393,344.373,380.617,377.402,380.617 z"/>
        <g id="Group">
          <path id="Path_579" style="fill:#bcffab;fill-opacity:0.2;fill-rule:evenodd;opacity:1;stroke:none;" d="M160.61,349.647 C208.974,349.647,248.181,388.854,248.181,437.218 C248.181,485.583,208.974,524.789,160.61,524.789 C112.245,524.789,73.0382,485.583,73.0382,437.218 C73.0382,388.854,112.245,349.647,160.61,349.647 z"/>
          <path id="Path_578" style="fill:#f4d0ff;fill-opacity:0.4;fill-rule:evenodd;opacity:1;stroke:none;" d="M160.61,317.609 C226.668,317.609,280.219,371.16,280.219,437.218 C280.219,503.277,226.668,556.828,160.61,556.828 C94.551,556.828,41,503.277,41,437.218 C41,371.16,94.551,317.609,160.61,317.609 z M160.61,349.647 C208.974,349.647,248.181,388.854,248.181,437.218 C248.181,485.582,208.974,524.789,160.61,524.789 C112.245,524.789,73.0382,485.582,73.0382,437.218 C73.0382,388.854,112.245,349.647,160.61,349.647 z"/>
          <path id="Path-4" style="fill:#b0ff85;fill-opacity:0.4;fill-rule:nonzero;opacity:1;stroke:none;" d="M309.054,305.861 C311.189,314.405,422.393,327.269,454.294,330.424 C551.476,340.035,640.116,312.269,640.116,312.269 C640.116,312.269,766.133,376.346,766.133,376.346 C766.133,376.346,773.608,450.034,773.608,450.034 C773.608,450.034,813.122,457.509,813.122,457.509 C813.122,457.509,837.685,448.966,838.753,434.014 C839.821,419.063,790.696,388.093,786.424,364.598 C782.152,341.103,799.239,154.214,609.145,127.515 C419.052,100.816,399.829,219.358,397.693,227.902 C395.557,236.445,384.877,264.212,384.877,264.212 C384.877,264.212,349.635,272.755,334.684,281.299 C319.733,289.842,306.918,297.318,309.054,305.861 z"/>
        </g>
        <path id="Path-5" style="fill:#b7cdff;fill-opacity:0.478301;fill-rule:nonzero;opacity:1;stroke:none;" d="M195.852,661.486 C208.667,686.049,257.792,702.068,257.792,702.068 C257.792,702.068,244.977,665.758,244.977,665.758 C244.977,665.758,262.064,645.467,251.385,624.108 C240.705,602.749,211.871,603.817,203.327,610.225 C194.784,616.633,183.036,636.923,195.852,661.486 z"/>
        <path id="Path-6" style="fill:#b7cdff;fill-opacity:0.478301;fill-rule:nonzero;opacity:1;stroke:none;" d="M368.858,326.152 C368.858,326.152,352.839,377.413,352.839,377.413 C352.839,377.413,359.247,385.957,359.247,385.957 C359.247,385.957,349.635,498.091,349.635,498.091 C349.635,498.091,343.228,515.178,343.228,515.178 C343.228,515.178,345.364,570.711,345.364,570.711 C345.364,570.711,264.2,615.565,264.2,615.565 C264.2,615.565,303.714,709.544,303.714,709.544 C303.714,709.544,372.062,698.864,372.062,698.864 C372.062,698.864,379.538,712.747,379.538,712.747 C379.538,712.747,401.964,676.437,401.964,676.437 C401.964,676.437,419.052,670.03,419.052,670.03 C419.052,670.03,414.78,661.486,414.78,661.486 C414.78,661.486,427.595,633.72,427.595,633.72 C427.595,633.72,459.633,631.584,459.633,631.584 C459.633,631.584,480.992,650.807,480.992,650.807 C480.992,650.807,470.313,689.253,470.313,689.253 C470.313,689.253,509.827,699.932,509.827,699.932 C509.827,699.932,525.846,678.573,525.846,678.573 C525.846,678.573,523.71,667.894,523.71,667.894 C523.71,667.894,525.846,642.263,525.846,642.263 C525.846,642.263,550.409,632.652,550.409,632.652 C550.409,632.652,584.583,647.603,584.583,647.603 C584.583,647.603,576.039,683.913,576.039,683.913 C576.039,683.913,587.786,695.66,587.786,695.66 C587.786,695.66,597.398,775.756,597.398,775.756 C597.398,775.756,595.262,820.609,595.262,820.609 C595.262,820.609,577.107,852.648,535.457,845.172 C493.808,837.697,486.332,809.93,486.332,809.93 C486.332,809.93,485.264,764.009,485.264,764.009 C485.264,764.009,459.633,765.077,459.633,765.077 C459.633,765.077,460.701,781.096,460.701,781.096 C460.701,781.096,450.022,824.881,450.022,824.881 C450.022,824.881,518.69,912.76,618.757,925.268 C738.366,940.219,808.851,884.686,861.18,887.89 C913.509,891.094,981.857,978.665,981.857,978.665 C981.857,978.665,989.333,876.143,950.887,843.036 C912.441,809.93,819.53,784.299,804.579,759.737 C789.628,735.174,787.492,718.087,787.492,718.087 C787.492,718.087,883.535,755.626,900.694,717.019 C926.324,659.35,800.307,602.749,788.56,560.032 C776.812,517.314,766.133,372.074,766.133,372.074 C766.133,372.074,639.048,311.201,639.048,311.201 C639.048,311.201,555.851,334.4,508.759,333.628 C443.614,332.56,368.858,326.152,368.858,326.152 z"/>
      </g>
      <g id="Outlines">
        <path id="Path-7" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M551.476,377.413 C585.685,377.413,613.417,405.145,613.417,439.354 C613.417,473.563,585.685,501.295,551.476,501.295 C517.268,501.295,489.536,473.563,489.536,439.354 C489.536,405.145,517.268,377.413,551.476,377.413 z"/>
        <path id="Path_Copy-1" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M376.332,377.413 C410.541,377.413,438.273,405.145,438.273,439.354 C438.273,473.563,410.541,501.295,376.332,501.295 C342.123,501.295,314.392,473.563,314.392,439.354 C314.392,405.145,342.123,377.413,376.332,377.413 z"/>
        <g id="Group-1">
          <path id="Path_564" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M437.901,432.53 C445.659,427.342,454.51,424.403,463.905,424.403 C473.3,424.403,482.15,427.342,489.908,432.529"/>
        </g>
        <path id="Path-8" style="fill:#ffffff;fill-opacity:1;fill-rule:evenodd;opacity:1;stroke:none;" d="M537.593,419.063 C545.261,419.063,551.476,428.626,551.476,440.422 C551.476,452.218,545.261,461.781,537.593,461.781 C529.926,461.781,523.71,452.218,523.71,440.422 C523.71,428.626,529.926,419.063,537.593,419.063 z"/>
        <path id="Path_Copy-2" style="fill:#ffffff;fill-opacity:1;fill-rule:evenodd;opacity:1;stroke:none;" d="M379.538,419.063 C387.205,419.063,393.421,428.626,393.421,440.422 C393.421,452.218,387.205,461.781,379.538,461.781 C371.87,461.781,365.655,452.218,365.655,440.422 C365.655,428.626,371.87,419.063,379.538,419.063 z"/>
        <path id="Path-9" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M504.679,522.486 C501.515,525.1,497.994,527.384,494.142,529.263 C481.022,535.662,466.55,536.138,453.758,531.733"/>
        <g id="Group-2">
          <path id="Path-10" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M543.121,781.194 C572.806,783.632,595.716,799.666,594.292,817.007 C592.868,834.348,567.649,846.429,537.963,843.991 C508.278,841.553,485.368,825.519,486.792,808.178 C488.216,790.837,513.435,778.756,543.121,781.194 z"/>
          <path id="Path_Copy-3" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M584.705,798.467 C577.002,811.661,559.546,820.047,540.039,818.445 C520.066,816.804,503.922,805.184,498.859,790.417"/>
          <path id="Path_572" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M597.352,779.752 C598.776,762.411,575.866,746.377,546.18,743.939 C516.495,741.501,491.276,753.583,489.851,770.924 C489.851,770.924,512.721,693.512,512.721,693.512 C513.711,681.463,531.234,673.068,551.861,674.762 C572.488,676.456,588.407,687.598,587.418,699.647 C587.418,699.647,597.352,779.752,597.352,779.752 z"/>
          <path id="Path_570" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M580.423,675.391 C581.176,666.221,569.062,657.743,553.365,656.454 C537.668,655.165,524.333,661.553,523.58,670.722 C523.58,670.722,525.593,646.209,525.593,646.209 C526.346,637.04,539.681,630.652,555.378,631.941 C571.075,633.23,583.189,641.708,582.436,650.878 C582.436,650.878,580.423,675.391,580.423,675.391 z"/>
          <path id="Path_574" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M597.352,779.752 C598.776,762.411,575.866,746.377,546.18,743.939 C516.495,741.501,491.276,753.583,489.851,770.924 C489.851,770.924,486.792,808.178,486.792,808.178 C488.216,790.837,513.435,778.756,543.121,781.194 C572.806,783.632,595.716,799.666,594.292,817.007 C594.292,817.007,597.352,779.752,597.352,779.752 z"/>
        </g>
        <g id="Group-3">
          <path id="Path-11" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M476.295,738.177 C488.259,741.382,496.473,749.523,494.641,756.36 C492.809,763.196,481.625,766.139,469.662,762.934 C457.698,759.728,449.484,751.587,451.316,744.751 C453.148,737.914,464.331,734.971,476.295,738.177 z"/>
          <path id="Path_Copy-4" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M451.316,744.751 C451.316,744.751,462.473,703.11,464.305,696.273 C466.137,689.437,477.321,686.493,489.285,689.699 C501.249,692.905,509.462,701.046,507.63,707.882 C505.799,714.719,494.908,755.365,494.908,755.365"/>
        </g>
        <g id="Group_Copy">
          <path id="Path-12" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M409.813,772.452 C437.958,782.198,456.159,803.428,450.466,819.869 C444.772,836.311,417.34,841.738,389.195,831.992 C361.049,822.245,342.848,801.016,348.542,784.574 C354.235,768.133,381.667,762.706,409.813,772.452 z"/>
          <path id="Path_Copy-5" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M445.792,799.528 C435.049,810.391,416.056,814.17,397.561,807.765 C378.624,801.207,365.879,785.936,364.648,770.374"/>
          <path id="Path_572-1" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M462.698,784.547 C468.391,768.106,450.19,746.876,422.044,737.13 C393.899,727.383,366.467,732.811,360.773,749.252 C360.773,749.252,402.183,679.964,402.183,679.964 C406.139,668.54,425.2,664.769,444.757,671.541 C456.628,675.652,465.953,682.703,470.565,690.165"/>
          <path id="Path_570-1" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M472.264,679.255 C475.275,670.561,465.651,659.336,450.768,654.182 C435.885,649.029,421.38,651.898,418.37,660.592 C418.37,660.592,426.418,637.351,426.418,637.351 C429.428,628.657,443.934,625.787,458.816,630.941 C473.699,636.094,483.323,647.32,480.313,656.014 C480.313,656.014,472.264,679.255,472.264,679.255 z"/>
          <path id="Path_574-1" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M462.698,784.547 C468.391,768.106,450.19,746.876,422.044,737.13 C393.899,727.383,366.467,732.811,360.773,749.252 C360.773,749.252,348.542,784.574,348.542,784.574 C354.235,768.133,381.667,762.706,409.813,772.452 C437.958,782.198,456.159,803.428,450.466,819.869 C450.466,819.869,462.698,784.547,462.698,784.547 z"/>
        </g>
        <path id="Path-13" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M614.485,435.082 C614.485,435.082,697.611,435.082,712.562,435.082 C727.514,435.082,735.163,452.094,735.163,459.645"/>
        <path id="Path-14" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M161.677,316.541 C227.736,316.541,281.287,370.092,281.287,436.15 C281.287,502.209,227.736,555.76,161.677,555.76 C95.6189,555.76,42.0679,502.209,42.0679,436.15 C42.0679,370.092,95.6189,316.541,161.677,316.541 z"/>
        <path id="Path_Copy-6" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M161.677,347.514 C210.63,347.514,250.314,387.198,250.314,436.15 C250.314,485.103,210.63,524.787,161.677,524.787 C112.725,524.787,73.0412,485.103,73.0412,436.15 C73.0412,387.198,112.725,347.514,161.677,347.514 z"/>
        <path id="Path_Copy-7" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M101.873,436.15 C101.873,403.121,128.648,376.346,161.677,376.346"/>
        <g id="Group-4">
          <path id="Rectangle" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M217.049,604.954 C217.049,604.954,210.955,590.599,210.955,590.599 C208.19,584.084,211.23,576.56,217.745,573.795 C217.745,573.795,230.524,568.37,230.524,568.37 C237.039,565.605,244.563,568.645,247.328,575.16 C247.328,575.16,305.967,713.304,305.967,713.304 C308.732,719.819,305.693,727.342,299.178,730.108 C299.178,730.108,286.398,735.533,286.398,735.533 C279.883,738.298,272.36,735.258,269.594,728.743 C269.594,728.743,259.129,704.09,259.129,704.09"/>
          <path id="Path-15" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M383.809,262.076 C400.897,200.135,442.523,121.107,541.865,121.107 C641.207,121.107,783.755,151.369,783.755,354.969 C783.755,368.582,789.628,376.346,830.209,420.131"/>
          <path id="Path-16" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M644.387,313.337 C644.387,313.337,666.814,263.144,658.271,210.814 C649.727,158.485,603.806,124.311,603.806,124.311 C603.806,124.311,581.599,42.9347,549.341,74.1178 C517.302,105.088,602.738,124.311,602.738,124.311"/>
          <path id="Path-17" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M463.905,264.212 C463.905,264.212,469.245,193.727,519.438,158.485 C569.631,123.243,604.874,125.379,604.874,125.379 C604.874,125.379,664.678,54.8949,682.833,97.6126 C700.988,140.33,611.281,127.515,611.281,127.515"/>
          <path id="Path-18" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M214.796,575.047 C214.796,575.047,203.529,548.505,203.529,548.505 M221.224,540.994 C221.224,540.994,232.49,567.536,232.49,567.536"/>
        </g>
        <path id="Path-19" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M369.926,322.948 C363.735,340.284,358.341,358.098,354.054,380.645 M343.839,492.739 C343.436,507.395,343.228,523.351,343.228,540.809 C343.228,599.36,356.939,660.384,381.301,716.114 M448.942,824.892 C500.923,885.211,568.687,925.268,644.436,925.268 C795.02,925.268,768.97,890.026,868.655,890.026 C926.413,890.026,982.925,978.665,982.925,978.665 C982.925,978.665,1001.08,868.667,925.256,820.61 C849.432,772.552,802.443,783.232,784.288,718.087"/>
        <path id="Path-20" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M365.654,377.413 C365.654,377.413,353.907,405.18,350.703,438.286 C347.616,470.193,350.703,495.955,350.703,495.955"/>
        <path id="Path-21" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M763.997,373.142 C772.541,411.588,775.744,438.286,777.88,518.382 C780.016,598.478,904.965,659.293,904.965,698.864 C904.965,729.908,880.403,734.106,856.908,734.106 C824.799,734.106,734.095,699.932,710.6,665.758"/>
        <path id="Path-22" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M792.831,514.11 C744.774,530.129,646.523,594.206,587.786,699.932"/>
        <path id="Path-23" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M342.16,568.575"/>
        <path id="Path_577" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M373.13,696.728 C373.13,696.728,365.654,704.204,328.276,706.34 C321.4,706.733,313.602,706.837,303.714,706.34 M258.86,703.136 C226.288,695.312,194.784,676.156,194.784,645.467 C194.784,637.071,189.444,605.953,218.278,607.021 C247.113,608.089,251.385,620.904,253.521,633.72 C255.656,646.535,253.521,658.282,243.909,665.758 C256.71,699.993,243.909,665.758,243.909,665.758 C243.909,665.758,258.86,703.136,258.86,703.136 z"/>
        <path id="Path-24" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M342.16,569.643 C326.444,589.778,294.017,603.115,263.571,613.631"/>
        <path id="Path-25" style="fill:none;opacity:1;stroke:#ffffff;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;stroke-opacity:1;stroke-width:12;" d="M776.812,448.966 C808.851,462.849,838.231,458.626,838.231,432.509 C838.231,416.846,750.262,355.696,642.94,313.229 C570.073,284.396,488.285,262.076,419.052,262.076 C363.426,262.076,307.986,287.706,307.986,303.725 C307.986,319.745,443.047,332.56,509.827,332.56 C576.606,332.56,636.912,315.473,636.912,315.473"/>
      </g>
    </g>
  </g>
</svg>
`

export const UX_CRIMES_MD = `# The Haltija Criminal Code (v1.0)

A comprehensive database of UX anti-patterns that Haltija can detect programmatically.
This turns the agent into a **"Compliance Officer"** and **"Linting Tool for Psychology"**.

> "Make your web app feel like a native app."

---

## Class 1: Interaction Integrity (The "UX Historian" Crimes)

*Violations of 40 years of established OS/GUI conventions. These happen when designers reinvent standard controls in a vacuum.*

### 1. The Conflated Tree View

**The Crime:** Clicking a parent node selects it *and* expands it simultaneously, or selection is impossible without expansion.

**The OS Standard:** Selection (Click) and Expansion (Triangle/Arrow) are distinct actions.

**Haltija Signature:**
- Click parent row
- Check if \`aria-expanded\` toggles *and* \`aria-selected\` toggles instantly
- Verify Arrow Keys (\`Right\` to expand, \`Left\` to collapse) function correctly

---

### 2. The Disclosure Heresy

**The Crime:** An arrow pointing **UP** to indicate an open/expanded state (because "the drawer pulls up"), violating the reading flow convention.

**The OS Standard:** 
- **Right (▶)** = Closed/Next ("content is this way")
- **Down (▼)** = Open ("content flows below")

**The Philosophy:** Designers in a vacuum think "the drawer pulls up, so arrow points up." But users are in **Reading Mode** (following flow), not **Mechanical Mode** (operating a lever).

**Haltija Signature:**
- Compare icon rotation/SVG path between \`aria-expanded="true"\` and \`false\`
- Detect 180° rotation (Down → Up) on inline items
- *Exception:* Bottom-of-screen drawers may legitimately use Up

---

### 3. The Ambiguous Toggle

**The Crime:** A switch that relies solely on color (Green/Grey) or position (Left/Right) without text labels like "On/Off".

**The Issue:** Does "Green" mean it *is* on, or that clicking it *turns* it on? (State vs. Action confusion)

**Haltija Signature:**
- Detect \`role="switch"\` or checkbox styled as toggle
- Check for adjacent \`<label>\` or internal text
- If text is missing → **Crime**

---

### 4. The Scrollbar Lie (Gaslighting Scroll)

**The Crime:** Virtual scrolling that jumps, changes the scrollbar thumb size while dragging, or loses position when scrolling up.

**The OS Standard:** Scrollbars act as a fixed map of the content. 10% scroll movement = 10% content movement.

**Haltija Signature:**
- Measure \`scrollHeight\` change during scroll events
- If \`scrollHeight\` varies by >10% without explicit "Load More" action → **Crime**
- Monitor scroll-up: if \`scrollTop\` jumps by >100px without user input → **Crime**

---

### 5. Multi-Select Amnesia

**The Crime:** A list that requires individual clicking of 50 items because \`Shift+Click\` (Range) and \`Cmd/Ctrl+Click\` (Toggle) are ignored.

**Haltija Signature:**
- Click Item 1
- Hold Shift, Click Item 5
- Check selection count
- If < 5 → **Crime**

---

### 6. Infinite Scroll in Data Tables

**The Crime:** Using infinite scroll in enterprise data grids because "pagination is old school."

**The Reality:** In data grids, position matters. Users need to know "I am roughly 50% through the alphabet." Infinite scroll destroys the scrollbar's utility as a "Map."

**Haltija Signature:**
- Detect a \`<table>\` or \`role="grid"\`
- Scroll to bottom - does it load more rows?
- **Verdict:** "Data Integrity Risk. Infinite scroll prevents footer access and destroys spatial memory."

---

## Class 2: Dark Patterns & "Conversion Optimization"

*Deliberate hostility designed to trick the user or prevent them from leaving.*

### 7. The Trapdoor Cancel

**The Crime:** The "Save" button is a massive, high-contrast primary button. The "Cancel" button is a tiny, grey text link (10-12px), hidden in a corner.

**The Philosophy:** Usability is about helping the user make the *correct* decision, not just the *business* decision.

**Haltija Signature:**
- Identify the Form Actions container
- Compare Primary vs. Secondary action
- **Heuristic:** If Secondary Action is:
  - \`<a>\` instead of \`<button>\`, OR
  - font-size < 80% of Primary, OR
  - contrast ratio < 3:1
  → **Crime**

---

### 8. The Roach Motel

**The Crime:** Signup takes 1 click. Cancellation requires a phone call, chat with a bot, or >3 levels of menu navigation.

**Haltija Signature:**
- Navigate to "Settings"
- Search DOM for "Cancel," "Delete," "Close Account"
- If count is 0 or link is deep in nested divs → **Crime**

---

### 9. Confirmshaming

**The Crime:** "No, I prefer to pay full price" or "No, I don't like saving money."

**Haltija Signature:**
- Analyze negative action text sentiment
- Detect manipulative phrasing (keywords: "dumb," "lose," "prefer to pay," "miss out")

---

### 10. The Phantom Shield (Cookie Wall)

**The Crime:** Transparent or invisible layers (cookie banners) blocking clicks on the main UI, making the site feel broken/frozen.

**Haltija Signature:**
1. **Click Intercept Test:**
   - Fire \`click\` at center of viewport (e.g., Login button)
   - Check which element actually received the event
   - If target is \`div.cookie-wrapper\` instead of intended button → **Critical Crime**

2. **Invisible Wall Heuristic:**
   - Find elements with \`position: fixed\` covering >80% of viewport
   - Check: \`background-color: transparent\` AND \`pointer-events: auto\`?
   - Report: "Invisible High-Z Element blocking interactions. Site appears frozen."

**Severity:** Critical (Site Unusable)

---

## Class 3: Internationalization (i18n) Hostility

*Design that assumes every user is in the US, speaks English, and has a US keyboard.*

### 11. The Buried Country

**The Crime:** "United States" is at the top. "Afghanistan" is second. "Finland" is item #64. No search/typeahead.

**Haltija Signature:**
- Open dropdown
- Check index of current user's locale country
- If index > 10 and list is > 50 → **Crime**
- Test typeahead: focus list, send keystrokes "F", "I"
  - *Pass:* Selection jumps to "Fiji" then "Finland"
  - *Fail:* Nothing happens, or jumps to "France" (ignoring "I")

---

### 12. Zip Code Jail

**The Crime:** Rejecting alphanumeric postal codes (UK: \`EC1A 1BB\`, Canada: \`M5V 2H1\`) because the regex expects 5 digits.

**Haltija Signature:**
- Input \`EC1A 1BB\` into postal field
- Check for validation error
- If error → **Crime: "Globalization Fail"**

---

### 13. The Phone Number Pedant

**The Crime:** "Invalid format. Do not use dashes." / "Invalid format. You must use dashes."

**The Fix:** Strip non-digits on the backend! Don't make the user do data entry work.

**Haltija Signature:**
- Fuzz input with:
  - \`+358 40 1234567\` (Standard International)
  - \`040-123-4567\` (Local formatted)
  - \`0401234567\` (Raw)
- If *any* valid format triggers error → **Crime**

---

### 14. The Polygloat Menu

**The Crime:** Listing languages in English ("German", "Japanese") instead of endonyms ("Deutsch", "日本語").

**The Problem:** Non-English speakers can't read English! They're looking for their language *in their language*.

**Haltija Signature:**
- Scan language menu
- Regex check: Does "Spanish" match \`Español\`? "German" match \`Deutsch\`?
- If text is purely ASCII English names for non-English languages → **Crime**

---

### 15. The Cookie Wall (EU Blocker)

**The Crime:** Cookie modal so poorly implemented it's impossible to click "Login" because an invisible \`div\` covers the screen, or the "Reject" button is off-canvas on mobile.

**Haltija Signature:**
- Element: Fixed position \`div\` with high \`z-index\`, keywords "Cookie", "Consent"
- Attempt to click primary action *before* interacting with banner
- Check if click intercepted
- **GDPR Check:** Is there a \`button\` with text "Reject" or "Necessary Only"?

---

## Class 4: Forms from Hell

*Friction points that destroy data entry speed.*

### 16. The Paste Blockade

**The Crime:** Blocking \`paste\` on password or account number fields.

**Haltija Signature:**
- Attempt \`paste\` event
- Check \`defaultPrevented\`
- If blocked → **Crime**

---

### 17. The Amnesiac Form

**The Crime:** Submitting the form with one error wipes all other valid fields.

**Haltija Signature:**
- Fill form completely
- Intentionally break one field
- Submit
- Check if other fields retained values
- If wiped → **Crime**

---

### 18. The Label Lie

**The Crime:** Using \`placeholder\` text as the only label. It vanishes when you type, forcing reliance on memory.

**Haltija Signature:**
- Check input for \`<label>\` element, \`aria-label\`, or \`aria-labelledby\`
- If all missing → **Crime**

---

## Class 5: Accessibility & Mobile Hostility

*Basic exclusions of users with disabilities or touch interfaces.*

### 19. The "Div" Button

**The Crime:** \`<div>\` or \`<span>\` with \`onClick\` but no \`role="button"\` and no \`tabindex\`. Invisible to screen readers and keyboard users.

**Haltija Signature:**
- Query elements with click listeners
- Check tag name
- If generic container without proper ARIA → **Crime**

---

### 20. The Tiny Tap

**The Crime:** Interactive elements smaller than 44x44px.

**Haltija Signature:**
- Compute \`boundingClientRect\` of all \`<a>\` and \`<button>\` elements
- Flag any < 44px in either dimension

---

### 21. Focus Trap / Ghost Focus

**The Crime:** 
- Opening a modal does not trap focus inside it, OR
- Closing modal resets focus to \`<body>\` instead of the trigger button

**Haltija Signature:**
- Open modal
- Press \`Tab\` repeatedly
- If focus leaves modal → **Crime**
- Close modal
- Check \`document.activeElement\`
- If not the original trigger → **Crime**

---

## Class 6: Volatility (The "Feed" Crimes)

*Violating object permanence and user intent.*

### 22. Feed Roulette

**The Crime:** Accidental refresh or "back" button wipes the content you were looking at, replacing it with a new algorithmic feed.

**The Philosophy:** Prioritizes "Freshness" (Engagement) over "Utility" (Retrieval). Treats user attention as disposable.

**Haltija Signature:**
1. \`scanVisibleContent()\` → Store IDs of first 5 items
2. Trigger \`reload\` or click "Home"
3. \`scanVisibleContent()\` again
4. If < 50% of original items present → **Crime: "Volatile Content Environment"**

---

### 23. The Gaslighting Scroll (Bi-Directional Virtualization)

**The Crime:** You're 500 items deep. You scroll up to check something you saw 30 seconds ago. The browser jumps, content re-orders, you can't find your place.

**The Philosophy:** Humans rely on spatial memory ("It was up and to the left"). Virtual scrolling breaks this map.

**Haltija Signature:**
1. Scroll down 50 viewport heights
2. Scroll up 10 viewport heights quickly
3. Monitor \`scroll\` events vs \`visualViewport\` offset
4. If scroll position jumps (>100px without user input) → **Crime**
5. If \`layout-shift\` score spikes during scroll-up → **Crime**

---

### 24. Deceptive Loading (Skeleton Lie)

**The Crime:** Skeleton screen shows a layout, but final content shifts positions significantly (CLS) or buttons remain disabled after appearing ready.

**The Philosophy:** The UI promises interaction ("I am loading right here") but delivers a moving target.

**Haltija Signature:**
- Compare \`boundingClientRect\` of skeleton elements vs. final content
- If shift > 10px → **Crime: "Deceptive Loading State"**

---

## Implementation: The "Rap Sheet"

When Haltija runs a test plan, output a **Criminal Record** alongside functional results:

\`\`\`
Summary:
- Functional: PASSED (Login works)
- UX Audit: FAILED

Crimes Detected:
1. FELONY: Paste Blockade on Password Field
2. MISDEMEANOR: Tiny Tap Target on "Forgot Password" link (12px height)
3. INTERACTION VIOLATION: Country picker lacks typeahead
4. DARK PATTERN: Cancel button is 10px grey text link
\`\`\`

This gives engineers/designers **exact ammunition** for the next meeting.

---

## Why Agents Hate These Even More Than Humans

To an AI Agent, **The Feed is Kryptonite.**

- Agents act linearly: "I saw a shoe I liked. I will scroll back up to buy it."
- If scrolling up makes the shoe vanish (Virtual Scroll) or reloading changes inventory (Feed Roulette), the Agent fails.

**The Haltija Advantage:**
Because Haltija acts as a **Context History Stream** (Semantic Events), it solves this:

- **The Site:** Deletes DOM node for "Post #101" because you scrolled past it
- **Haltija:** Remembers "Post #101" was seen at \`timestamp: 10:05\`
- **The Feature:** When Agent asks "Where is that post?", Haltija says: *"The site deleted it (Virtual Scroll), but I have the data. Don't scroll up; use Search instead."*

You are building **the memory that the modern web tries to erase**.

---

## Class 7: Mobile Hostility

*Crimes committed by developers who only test on a 27-inch monitor with a mouse.*

### 25. The Pinch-to-Zoom Lock

**The Crime:** Disabling zoom because it "messes up the design." This actively prevents users with vision impairments (or anyone in bright sunlight) from reading your content.

**Haltija Signature:**
- Scan \`<meta name="viewport">\`
- Look for \`user-scalable=no\` or \`maximum-scale=1.0\`

**Report:** "Viewport Violation: Zoom disabled. Accessibility failure for low-vision users."

---

### 26. The Hover Trap

**The Crime:** Hiding critical actions (like "Edit" or "Delete" buttons) or navigation sub-menus behind a \`:hover\` state.

**The Reality:** There is no hover on touchscreens. The user has to awkwardly tap once to see the menu (which might interpret the tap as a click and navigate away immediately).

**Haltija Signature:**
- Identify elements with \`mouseover\` or \`:hover\` listeners that change visibility of child elements
- **Heuristic:** Can the Agent access the child element via a single \`click\` or \`focus\` event without triggering navigation?

**Report:** "Touchscreen Exclusion: Critical UI hidden behind Hover state. Inaccessible on mobile."

---

### 27. The Keyboard Eclipse

**The Crime:** Tapping an input field brings up the on-screen keyboard, which completely covers the input field you are typing in.

**Haltija Signature:**
- **Simulation:** Set viewport height to 50% (simulating keyboard)
- **Action:** Focus an input in the bottom half of the page
- **Check:** Is the input element's \`bottom\` coordinate > visible viewport height? Does the page fail to scroll it into view?

**Report:** "Input Occlusion: Active field hidden by virtual keyboard."

---

### 28. The Fat Finger Minefield

**The Crime:** Placing two actionable elements (e.g., "Save" and "Cancel", or list items) closer than 8px apart.

**Haltija Signature:**
- Scan all \`button\`, \`a\`, \`input\`
- Compute bounding boxes
- **Check:** If distance between edges of two interactive targets is < 8px → **Crime**

**Report:** "Touch Target Risk: Interactive elements too close. High probability of accidental clicks."

---

### 29. The Horizontal Scroll of Death

**The Crime:** A single element (like a long URL or code block) is wider than the mobile viewport, causing the *entire page* to wobble left and right.

**Haltija Signature:**
- Set viewport width to 375px (iPhone SE)
- **Check:** Is \`document.body.scrollWidth\` > \`window.innerWidth\`?

**Report:** "Layout Failure: Page overflows horizontally. Causes unstable scrolling."

---

## Class 8: Accessibility Atrocities

*Basic exclusions that are often illegal and always unethical.*

### 30. The Silent Image

**The Crime:** Meaningful images (not decorative) missing \`alt\` text. Screen readers just say "Image" or read the filename "DSC_0043.jpg".

**Haltija Signature:**
- Query \`img:not([alt])\`
- Filter out \`role="presentation"\` or empty \`alt=""\` (if decorative)

**Report:** "Blind Spot: Meaningful image missing alternative text."

---

### 31. The Color-Only Signal

**The Crime:** Using *only* red text or a red border to indicate an error, with no icon or text label explaining "Invalid".

**The Reality:** Colorblind users cannot see the error.

**Haltija Signature:**
- Trigger form error
- **Check:** Did a new text node appear or did \`aria-invalid\` toggle?
- **Failure:** If only CSS \`color\` or \`border-color\` changed → **Crime**

**Report:** "Sensory Reliance: Error state conveyed solely by color. Invisible to colorblind users."

---

### 32. The Low Contrast Grey

**The Crime:** Light grey text on a white background (e.g., \`#999\` on \`#fff\`). The designer thinks it looks "clean." Users think it looks "invisible."

**Haltija Signature:**
- **Heuristic:** Compute background color and foreground color of all text nodes
- **Math:** Calculate luminosity ratio
- If < 4.5:1 (WCAG AA) for normal text → **Crime**

**Report:** "Legibility Failure: Text contrast too low (Ratio X:1)."

---

### 33. The Headings Out of Order

**The Crime:** Using \`<h3>\` because you wanted "medium sized font," skipping \`<h1>\` or \`<h2>\`.

**The Reality:** Screen reader users navigate by headings. A broken hierarchy makes the page structure unintelligible.

**Haltija Signature:**
- Scan heading tags
- Check order (e.g., \`h4\` appears before \`h1\`, or \`h3\` is a direct child of \`h1\` skipping \`h2\`)

**Report:** "Structural Chaos: Semantic heading hierarchy broken."

---

### 34. The Autoplay Assault

**The Crime:** Video or audio that plays automatically on page load.

**The Reality:** This overrides screen reader audio, disorienting blind users, and triggers anxiety/migraines in neurodiverse users.

**Haltija Signature:**
- Check \`<video>\` or \`<audio>\` tags for \`autoplay\` attribute
- Check if \`muted\` is missing

**Report:** "Hostile Media: Unsolicited autoplay detected."

---

### 35. The No Skip Link

**The Crime:** Forcing keyboard users to tab through 50 navigation links on *every single page* before they can reach the content.

**Haltija Signature:**
- **Action:** Press \`Tab\` from page load
- **Check:** Is one of the first 3 focusable elements a link to \`#main\` or \`main\`?

**Report:** "Navigation Fatigue: Missing 'Skip to Content' link."

---

## Implementation Strategy: The Audit Flag

You don't want this running on every fast iteration loop (it generates too much noise).

**Add a flag to the Haltija CLI:**

\`\`\`bash
# Run functional tests only
npx haltija test

# Run with full Criminal Investigation
npx haltija test --audit
\`\`\`

When \`--audit\` is active, the Agent gets the "Criminal Code" system prompt and the Haltija widget activates its "Sensors" (Contrast checker, Layout shift observer, etc.).

This allows teams to separate:
- **"Did we break the build?"** (Functional)
- **"Did we ruin the product?"** (Audit)

---

## The Value Proposition

You aren't just selling a "Tester." You are selling a **Compliance Officer**.

If a company uses Haltija, they aren't just checking if the login button works. They're checking:

- "Did we alienate our European customers today?"
- "Did we break the site for Canada?"
- "Is our mobile menu usable by humans?"

This turns **JSON Test Results** into a **Business Risk Report**. That's worth 10x what a Selenium script is worth.

---

## Severity Levels

| Level | Description | Example |
|-------|-------------|---------|
| **Critical** | Site unusable | Phantom Shield blocking all clicks |
| **Felony** | Major user harm | Paste Blockade on passwords |
| **Misdemeanor** | Friction/annoyance | Tiny tap targets |
| **Violation** | Best practice breach | Missing form labels |
| **Warning** | Potential issue | Country picker lacks typeahead |

---

## Future Additions (Parking Lot)

From original roadmap, not yet codified:

- **CAPTCHA nightmares** - inaccessible, unsolvable
- **Hamburger menus hiding critical actions** - primary nav buried
- **No skip links** - keyboard users trapped in header
- **Hover-dependent UI on mobile** - tooltips/menus that require hover
- **Pinch-zoom disabled** - viewport meta crimes
- **Auto-formatting that fights input** - phone fields that add/remove chars while typing
- **Duplicate country entries** - "UK" vs "Great Britain" vs "United Kingdom"
- **Language selector buried** - in footer? hamburger? settings? random flag icon?
- **Missing lang attribute** - wrong language auto-detected, no way to fix
`
